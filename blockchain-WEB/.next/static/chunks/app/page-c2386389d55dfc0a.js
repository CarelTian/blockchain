(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2533:function(e,t,n){Promise.resolve().then(n.bind(n,1781))},1781:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var a=n(7437),s=n(2265),i=n(6094),r=n(3191),l=n(3325),o=n(4703),d=n(4934),c=n(181),u=n(6317),p=n(2536),m=n(6491),y=n(3468),b=n(4837),x=n(4457);let g=(0,u._)({chains:[m.R,y.u,b.F],connectors:[(0,x.O)()],transports:{[m.R.id]:(0,p.d)(),[y.u.id]:(0,p.d)(),[b.F.id]:(0,p.d)()}});var f=n(5885),h=n(3184),j=n(7025),N=n(3003),w=n(1528),T=n(5540),v=n(8324);function C(){let{address:e}=(0,l.m)(),{writeContract:t,isPending:n}=(0,v.S)(),[i,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);async function p(t){t.preventDefault();let n=new FormData(t.target);if(e)n.append("address",e);else{console.error("Address is undefined");return}console.log("Uploading asset with data:",n),u(!0);try{let e=await fetch("http://3.107.96.68:6452/upload",{method:"POST",body:n}),t=await e.json();console.log("Upload result:",t)}catch(e){console.error("Error uploading asset:",e)}finally{u(!1),setTimeout(()=>{r(!1)},3e3)}}return(0,s.useEffect)(()=>{document.documentElement.setAttribute("lang","en")},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"absolute left-20 top-50 border-b border-gray-300    bg-gradient-to-b from-blue-200 pb-6 pt-8 backdrop-blur-2xl dark:border-neutral-800    dark:bg-zinc-800/30 dark:from-inherit    lg:static lg:w-auto lg:rounded-xl lg:border lg:bg-gray-200 lg:p-4    lg:dark:bg-zinc-800/30",onClick:()=>r(!0),children:"Register IP"}),(0,a.jsx)(f.Vq,{open:i,onClose:()=>r(!1),className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,a.jsxs)(f.EM,{className:"max-w-lg w-full space-y-4 bg-white p-6 rounded-md",children:[(0,a.jsx)(f.$N,{className:"font-bold text-xl",children:"Upload Asset"}),(0,a.jsx)(h.dk,{className:"text-gray-500",children:"Please confirm the asset details are correct."}),(0,a.jsxs)("form",{onSubmit:p,encType:"multipart/form-data",children:[(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"block text-gray-700",children:"Blockchain Address"}),(0,a.jsx)(w.I,{name:"address",type:"text",className:"mt-1 w-full border border-gray-300 p-2 rounded-md focus:ring focus:ring-blue-200",defaultValue:e||"",readOnly:!0})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"block text-gray-700",children:"Category"}),(0,a.jsx)(w.I,{name:"category",type:"text",className:"mt-1 w-full border border-gray-300 p-2 rounded-md focus:ring focus:ring-blue-200"})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"block text-gray-700",children:"Name"}),(0,a.jsx)(w.I,{name:"name",type:"text",className:"mt-1 w-full border border-gray-300 p-2 rounded-md focus:ring focus:ring-blue-200"})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"block text-gray-700",children:"Description"}),(0,a.jsx)(T.g,{name:"description",className:"mt-1 w-full border border-gray-300 p-2 rounded-md focus:ring focus:ring-blue-200"})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"block text-gray-700",children:"File"}),(0,a.jsx)(w.I,{name:"file",type:"file",className:"mt-1 w-full border border-gray-300 p-2 rounded-md focus:ring focus:ring-blue-200"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-md",type:"button",onClick:()=>r(!1),children:"Cancel"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md",type:"submit",disabled:c,children:"Submit"})]})]})]})})})]})}var I=n(3527),P=n(6052);let k={ipCore:{address:"0x92FB20ec1A1558cB80B9D9b7e3b839390F2f6E55",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FallbackCalled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"IPRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Received",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"receiveUnit",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"IPs",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"category",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"lessee",type:"address"},{internalType:"string",name:"md5",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"leaseEndTimestamp",type:"uint256"},{internalType:"uint8",name:"status",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"TxAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getIP",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"category",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"lessee",type:"address"},{internalType:"string",name:"md5",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"leaseEndTimestamp",type:"uint256"},{internalType:"uint8",name:"status",type:"uint8"}],internalType:"struct IPcore.Property",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"globalID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"invalidateIP",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"lease",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"leaseEndTimestamp",type:"uint256"}],name:"leaseIP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"md5Exist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"recycleIP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"redeem",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"category",type:"string"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"md5",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"registerIP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"restoreIP",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"sellIP",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"setTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"transfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"withdrawIP",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},transaction:{address:"0xcCD77Db5bE12e186654c7b640F5836c763ED876a",abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"IPcore",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"disableLease",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"disableTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"enableLease",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"enableTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"leasePrices",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"leaseVerify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"leaseable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"setIPcore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tradable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tradePrices",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"transferVerify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]}};function S(e){let{ipId:t,onPurchase:n}=e,[i,r]=s.useState(!1),[l,o]=(0,s.useState)(0),{data:d}=(0,I.u)({address:k.transaction.address,abi:k.transaction.abi,functionName:"tradePrices",args:[t.toString()]});(0,s.useEffect)(()=>{d?o(Number(d)):o(void 0)},[d]);let{writeContract:c}=(0,v.S)(),u=async()=>{r(!0);try{if(void 0!==l){let e=BigInt(l);console.log("Attempting to purchase IP with price:",l);let n=await c({address:k.ipCore.address,abi:k.ipCore.abi,functionName:"transfer",args:[t],value:e});console.log("Transaction sent:",n)}}catch(e){console.error("Error purchasing IP:",e)}finally{r(!1),i||n()}};return(0,a.jsx)(f.Vq,{open:!0,onClose:n,className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg w-1/2 space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Purchase IP"}),(0,a.jsx)("p",{children:void 0!==l?"Are you sure you want to purchase the IP? The current price is: ".concat(l," Wei"):"Failed to fetch price"}),(0,a.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",type:"submit",disabled:i,onClick:u,children:"Confirm Purchase"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:n,children:"Cancel"})]})]})})})}var M=n(8509);function E(e){let{ipId:t,onLease:n}=e,[i,r]=s.useState(!1),[l,o]=(0,s.useState)(0),{data:d}=(0,I.u)({address:k.transaction.address,abi:k.transaction.abi,functionName:"leasePrices",args:[t.toString()]});(0,s.useEffect)(()=>{d?o(Number(d)):o(void 0)},[d]);let{writeContract:c}=(0,v.S)(),u=async()=>{r(!0);try{if(void 0!==l){let e=BigInt(l);console.log("Attempting to Lease IP with price:",(0,M.f)(l.toString()));let n=await c({address:k.ipCore.address,abi:k.ipCore.abi,functionName:"lease",args:[t],value:e});console.log("Lease sent:",n)}}catch(e){console.error("Error leasing IP:",e)}finally{r(!1),i||n()}};return(0,a.jsx)(f.Vq,{open:!0,onClose:n,className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg w-1/2 space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Lease IP"}),(0,a.jsx)("p",{children:void 0!==l?"Are you sure you want to Lease the IP?  The current price is: ".concat(l," Wei"):"Failed to fetch price"}),(0,a.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",type:"submit",disabled:i,onClick:u,children:"Confirm Lease"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:n,children:"Cancel"})]})]})})})}var _=n(1942);function D(){let e=(0,l.m)(),[t,n]=(0,s.useState)(""),[i,r]=(0,s.useState)(null),{data:o}=(0,I.u)({address:k.ipCore.address,abi:k.ipCore.abi,functionName:"getIP",args:[t]}),d=async()=>{if(!t){alert("Please enter IP id.");return}r(o),console.log("Retrieved IP:",o)},[c,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[T,C]=(0,s.useState)(!1),[M,D]=(0,s.useState)(!1),{data:F,writeContract:R,isPending:q}=(0,v.S)(),{isLoading:z,isSuccess:A}=(0,P.A)({hash:F});async function L(e){console.log(e);try{let n=await R({address:k.ipCore.address,abi:k.ipCore.abi,functionName:e,args:[t]});console.log(q),q&&setTimeout(()=>{console.log("pending")},3e3),console.log(n)}catch(t){console.error("Error run :",e,t)}}async function V(e){e.preventDefault();let t=new FormData(e.target).get("price");await R({address:k.ipCore.address,abi:k.ipCore.abi,functionName:"sellIP",args:[null==i?void 0:i.id,1e9*Number(t)]}),q||setTimeout(()=>{C(!1)},3e3)}async function $(e){e.preventDefault();let t=new FormData(e.target),n=t.get("price"),a=t.get("timestamp");await R({address:k.ipCore.address,abi:k.ipCore.abi,functionName:"leaseIP",args:[null==i?void 0:i.id,1e9*Number(n),Number(a)]}),q&&console.log("Confirming..."),A&&(console.log("isConfirmed",F),b(!1))}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j.g,{className:"mt-4 w-full",children:[(0,a.jsx)(w.I,{value:t,onChange:e=>{n(e.target.value)},type:"text",className:"w-[80%] m-0 border p-2 rounded-md border-[focus]:shadow",placeholder:"Please enter the IP id to query"}),(0,a.jsx)("button",{className:"p-3 rounded-r-md bg-gray-100 hover:bg-gray-200",onClick:d,children:(0,a.jsx)(_.U41,{})})]}),i&&(0,a.jsx)("div",{className:"flex flex-row w-full max-w-6xl flex-wrap items-center w-full text-sm lg:flex",children:(0,a.jsxs)("div",{className:"mt-10 ml-5 mr-5 p-4 text-center rounded-lg border border-gray-300 lg:w-1/2 lg:mb-0 lg:text-left",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsx)("h2",{className:"mb-2 text-2xl font-semibold",children:i.id.toString()}),(0,a.jsx)("h2",{className:"mb-2 text-sm opacity-30 ".concat(function(e){switch(e.toString()){case"0":return"text-red-500";case"1":return"text-green-500";case"2":return"text-blue-500";default:return""}}(i.status)),children:function(e){switch(e.toString()){case"0":return"Deprecated";case"1":return"In Use";case"2":return"In Transaction";default:return""}}(i.status)})]}),(0,a.jsx)("div",{className:"m-0 h-5 w-1/5 border border-yellow-300 bg-yellow-100 rounded-md text-center text-yellow-400 text-sm",children:i.category}),(0,a.jsx)("p",{className:"mt-4 mb-4 max-w-[30ch] text-sm opacity-50",children:i.description}),(0,a.jsx)("p",{className:"mt-4 mb-4 max-w-[30ch] text-sm opacity-50",children:new Date(1e3*Number(i.timestamp)).toLocaleString("default",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"})}),(0,a.jsxs)("p",{className:"mt-4 mb-4 max-w-[50ch] text-sm opacity-50",children:["Owner: ",i.owner]}),(null==i?void 0:i.owner)===e.address&&i.status?(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>C(!0),children:"Sell"}):(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>D(!0),children:"Purchase"}),(null==i?void 0:i.owner)===e.address&&i.status?(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>b(!0),children:"Rent"}):(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>g(!0),children:"Lease"}),(null==i?void 0:i.owner)===e.address?(null==i?void 0:i.status.toString())==="0"?(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>m(!0),children:"Restore"}):(0,a.jsx)("button",{className:"w-1/4 mr-3 border border-gray-300 rounded-md",onClick:()=>u(!0),children:"Deprecate"}):""]})}),(0,a.jsx)(f.Vq,{open:c,onClose:()=>u(!1),className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg w-1/2 space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Deprecate IP"}),(0,a.jsx)(h.dk,{children:"Once deprecated, the IP cannot be used"}),(0,a.jsx)("p",{children:"It can be restored later"}),(0,a.jsxs)("div",{className:"flex flex-row-reverse gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>u(!1),children:"Cancel"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>L("invalidateIP"),children:"Deprecate IP"})]})]})})}),(0,a.jsx)(f.Vq,{open:p,onClose:()=>m(!1),className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg w-1/2 space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Restore IP"}),(0,a.jsx)(h.dk,{children:"Restored IP can be used normally"}),(0,a.jsxs)("div",{className:"flex flex-row-reverse gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>m(!1),children:"Cancel"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>L("restoreIP"),children:"Restore IP"})]})]})})}),(0,a.jsx)(f.Vq,{open:T,onClose:()=>C(!1),className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Sell IP"}),(0,a.jsxs)("form",{onSubmit:V,children:[(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"mr-4",children:"IP Id"}),(0,a.jsx)(w.I,{type:"text",className:"border border-[focus]:shadow",disabled:!0,placeholder:null==i?void 0:i.id.toString()})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"mr-4",children:"Price"}),(0,a.jsx)(w.I,{name:"price",type:"number",className:"border border-[focus]:shadow"}),"gWei"]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",type:"submit",disabled:q,children:"Confirm Sale"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>C(!1),children:"Cancel"})]})]})]})})}),(0,a.jsx)(f.Vq,{open:y,onClose:()=>b(!1),className:"relative z-50",children:(0,a.jsx)("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:(0,a.jsxs)(f.EM,{className:"max-w-lg space-y-4 border bg-white p-12",children:[(0,a.jsx)(f.$N,{className:"font-bold",children:"Sell IP"}),(0,a.jsxs)("form",{onSubmit:$,children:[(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"mr-4",children:"IP Id"}),(0,a.jsx)(w.I,{type:"text",className:"border border-[focus]:shadow",disabled:!0,placeholder:null==i?void 0:i.id.toString()})]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"mr-4",children:"Price"}),(0,a.jsx)(w.I,{name:"price",type:"number",className:"border border-[focus]:shadow"}),"gWei"]}),(0,a.jsxs)(j.g,{className:"mt-4",children:[(0,a.jsx)(N.__,{className:"mr-4",children:"Timestamp"}),(0,a.jsx)(w.I,{name:"timestamp",type:"number",className:"border border-[focus]:shadow"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,a.jsx)("button",{className:"border p-2 rounded-md",type:"submit",disabled:q,children:"Confirm Rent"}),(0,a.jsx)("button",{className:"border p-2 rounded-md",onClick:()=>b(!1),children:"Cancel"})]})]})]})})}),M&&i&&(0,a.jsx)(S,{ipId:null==i?void 0:i.id,onPurchase:()=>D(!1)}),x&&i&&(0,a.jsx)(E,{ipId:null==i?void 0:i.id,onLease:()=>g(!1)})]})}let F=new i.S;function R(){let{isConnected:e,address:t}=(0,l.m)(),{disconnect:n}=(0,o.q)();(0,s.useEffect)(()=>{e?localStorage.setItem("walletConnected","true"):localStorage.removeItem("walletConnected")},[e]);let i=t?"".concat(t.slice(0,4),"****").concat(t.slice(-4)):"";return e?(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"mb-2",children:i}),(0,a.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-full",onClick:()=>n(),children:"Disconnect"})]}):(0,a.jsx)(q,{})}function q(){let{connectors:e,connect:t}=(0,d.$)(),n=e[0];return(0,a.jsx)("button",{className:"fixed left-0 top-0 flex w-full justify-center border-b border-gray-300  bg-gradient-to-b from-blue-200 pb-6 pt-8 backdrop-blur-2xl dark:border-neutral-800  dark:bg-zinc-800/30 dark:from-inherit  lg:static lg:w-auto  lg:rounded-xl lg:border lg:bg-gray-200 lg:p-4  lg:dark:bg-zinc-800/30",onClick:()=>t({connector:n}),children:"Connect Wallet"})}function z(){let[e,t]=(0,s.useState)("register"),[n,i]=(0,s.useState)(!0),[l,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{localStorage.getItem("walletConnected")||o(!0)},[]),(0,a.jsx)("div",{children:(0,a.jsx)(c.F,{config:g,children:(0,a.jsx)(r.aH,{client:F,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("main",{className:"flex min-h-screen bg-white",children:[(0,a.jsxs)("div",{className:"flex flex-col ".concat(n?"w-60":"w-20"," p-4 border-r bg-gray-100 transition-width duration-300"),children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,a.jsx)("button",{onClick:()=>i(!n),className:"bg-gray-200 hover:bg-gray-300 text-black font-semibold py-2 px-2 rounded-full mb-4 transition-all duration-300",children:n?(0,a.jsx)(_.aHS,{}):(0,a.jsx)(_.Fm7,{})})}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{className:"flex items-center px-4 py-2 my-2 rounded-md hover:bg-gray-200 ".concat("register"===e?"bg-gray-200":"bg-white"),onClick:()=>t("register"),children:[(0,a.jsx)(_.eFK,{className:"mr-4"}),"Register IP"]}),(0,a.jsxs)("button",{className:"flex items-center px-4 py-2 my-2 rounded-md hover:bg-gray-200 ".concat("query"===e?"bg-gray-200":"bg-white"),onClick:()=>t("query"),children:[(0,a.jsx)(_.U41,{className:"mr-4"}),"Query IP"]})]}),(0,a.jsx)("div",{className:"flex-grow"}),n&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(R,{})})]}),(0,a.jsxs)("div",{className:"flex-grow p-10",children:["register"===e&&(0,a.jsx)(C,{}),"query"===e&&(0,a.jsx)(D,{})]})]}),l&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-md shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Connect Your Wallet"}),(0,a.jsx)("p",{className:"mb-4",children:"Please connect your MetaMask wallet to proceed."}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md",onClick:()=>o(!1),children:"Connect Wallet"})]})})]})})})})}}},function(e){e.O(0,[699,204,971,23,744],function(){return e(e.s=2533)}),_N_E=e.O()}]);